package wtf.monsoon.impl.module.exploit;

import io.github.nevalackin.homoBus.Listener;
import io.github.nevalackin.homoBus.annotations.EventLink;
import net.minecraft.network.play.client.C03PacketPlayer;
import wtf.monsoon.api.module.Category;
import wtf.monsoon.api.module.Module;
import wtf.monsoon.impl.event.EventMove;
import wtf.monsoon.impl.event.EventPacket;

public class ResetVL extends Module {

    public ResetVL() {
        super("Reset VL", "Reset your violations.", Category.EXPLOIT);
    }

    private int ticks = 0;

    @Override
    public void onEnable() {
        super.onEnable();
        ticks = 0;
    }

    @EventLink
    public Listener<EventMove> eventMoveListener = e -> {
        if (mc.thePlayer.onGround) {
            if (ticks >= 8) {
                this.toggle();
            }

            mc.thePlayer.jump();

            e.setX(0);
            e.setY(mc.thePlayer.motionY *= 0.15f);
            e.setZ(0);

            ticks++;
        }
    };
}
