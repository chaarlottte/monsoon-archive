package wtf.monsoon.client.modules.exploit

import me.bush.eventbuskotlin.EventListener
import me.bush.eventbuskotlin.listener
import net.minecraft.network.Packet
import net.minecraft.network.play.client.C03PacketPlayer
import wtf.monsoon.backend.Category
import wtf.monsoon.backend.module.Module
import wtf.monsoon.client.event.EventPacket
import wtf.monsoon.client.event.EventUpdate
import wtf.monsoon.client.util.network.PacketUtil
import java.util.concurrent.LinkedBlockingQueue

class NoC03 : Module("No C03", "Disable sending packets when not moving or rotating. Helps with balance.", Category.EXPLOIT) {

    @EventListener
    val eventPacket = fun(e: EventPacket) {
        if (e.packet is C03PacketPlayer) {
            if(!(e.packet as C03PacketPlayer).isMoving && !(e.packet as C03PacketPlayer).rotating) e.cancel()
        }
    }

}